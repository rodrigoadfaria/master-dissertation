% Arquivo LaTeX de exemplo de dissertação/tese a ser apresentados à CPG do IME-USP
% 
% Versão 5: Sex Mar  9 18:05:40 BRT 2012
%
% Criação: Jesús P. Mena-Chalco
% Revisão: Fabio Kon e Paulo Feofiloff
%  
% Obs: Leia previamente o texto do arquivo README.txt

\documentclass[11pt,twoside,a4paper]{book}

% ---------------------------------------------------------------------------- %
% Pacotes 
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage[pdftex]{graphicx}           % usamos arquivos pdf/png como figuras
\usepackage{setspace}                   % espaçamento flexível
\usepackage{indentfirst}                % indentação do primeiro parágrafo
\usepackage{makeidx}                    % índice remissivo
\usepackage[nottoc]{tocbibind}          % acrescentamos a bibliografia/indice/conteudo no Table of Contents
\usepackage{courier}                    % usa o Adobe Courier no lugar de Computer Modern Typewriter
\usepackage{type1cm}                    % fontes realmente escaláveis
\usepackage{listings}                   % para formatar código-fonte (ex. em Java)
\usepackage{titletoc}
%\usepackage[bf,small,compact]{titlesec} % cabeçalhos dos títulos: menores e compactos
\usepackage[fixlanguage]{babelbib}
\usepackage[font=small,format=plain,labelfont=bf,up,textfont=it,up]{caption}
\usepackage[usenames,svgnames,dvipsnames]{xcolor}
\usepackage[a4paper,top=2.54cm,bottom=2.0cm,left=2.0cm,right=2.54cm]{geometry} % margens
%\usepackage[pdftex,plainpages=false,pdfpagelabels,pagebackref,colorlinks=true,citecolor=black,linkcolor=black,urlcolor=black,filecolor=black,bookmarksopen=true]{hyperref} % links em preto
\usepackage[pdftex,plainpages=false,pdfpagelabels,pagebackref,colorlinks=true,citecolor=DarkGreen,linkcolor=NavyBlue,urlcolor=DarkRed,filecolor=green,bookmarksopen=true]{hyperref} % links coloridos
\usepackage[all]{hypcap}                    % soluciona o problema com o hyperref e capitulos
\usepackage[round,sort,nonamebreak]{natbib} % citação bibliográfica textual(plainnat-ime.bst)
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{verbatim}                    % para comentarios em blocos
\usepackage{amsfonts}                    % casos de caracteres especiais
\usepackage{enumitem}                    % enumeradores
\usepackage{multirow}                    % mesclagem de linhas em tabelas
\fontsize{60}{62}\usefont{OT1}{cmr}{m}{n}{\selectfont}
\usepackage{clrscode3e}                  % para pseudocódigo
\usepackage{caption}
\usepackage{subcaption}
\usepackage{tikz}
\usepackage{float}
\usepackage{hhline}
\usetikzlibrary{positioning}

% ---------------------------------------------------------------------------- %
% Cabeçalhos similares ao TAOCP de Donald E. Knuth
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{#1}}{}}
\renewcommand{\sectionmark}[1]{\markright{\MakeUppercase{#1}}{}}
\renewcommand{\headrulewidth}{0pt}

% ---------------------------------------------------------------------------- %
% Redefinindo estilos de teoremas, definições, exemplos, etc.
\theoremstyle{plain}
\newtheorem{thm}{Teorema}[chapter] % redefine a numeração por capítulo

\theoremstyle{definition}
\newtheorem{defn}{Definição}[chapter] % ambiente para definição
\newtheorem{exmp}{Exemplo}[chapter]   % ambiente para exemplos

% ---------------------------------------------------------------------------- %
\graphicspath{{./figuras/}}             % caminho das figuras (recomendável)
\frenchspacing                          % arruma o espaço: id est (i.e.) e exempli gratia (e.g.) 
\urlstyle{same}                         % URL com o mesmo estilo do texto e não mono-spaced
\makeindex                              % para o índice remissivo
\raggedbottom                           % para não permitir espaços extra no texto
\fontsize{60}{62}\usefont{OT1}{cmr}{m}{n}{\selectfont}
\cleardoublepage
\normalsize

% ---------------------------------------------------------------------------- %
% Comandos personalizados
% Frações com o tamanho pouco maiores
\newcommand{\ffrac}[2]{\ensuremath{\frac{\displaystyle #1}{\displaystyle #2}}}
% Funções argmin e argmax
\DeclareMathOperator*{\argmin}{argmin}
\DeclareMathOperator*{\argmax}{argmax}
% Título negrito
\newcommand{\thb}[1]{\textbf{#1}}
% Título negrito e itálico
\newcommand{\thbi}[1]{\textbf{\emph{#1}}}

% ---------------------------------------------------------------------------- %
% Opções de listing usados para o código fonte
% Ref: http://en.wikibooks.org/wiki/LaTeX/Packages/Listings
\lstset{ %
language=Java,                  % choose the language of the code
basicstyle=\footnotesize,       % the size of the fonts that are used for the code
numbers=left,                   % where to put the line-numbers
numberstyle=\footnotesize,      % the size of the fonts that are used for the line-numbers
stepnumber=1,                   % the step between two line-numbers. If it's 1 each line will be numbered
numbersep=5pt,                  % how far the line-numbers are from the code
showspaces=false,               % show spaces adding particular underscores
showstringspaces=false,         % underline spaces within strings
showtabs=false,                 % show tabs within strings adding particular underscores
frame=single,	                % adds a frame around the code
framerule=0.6pt,
tabsize=2,	                    % sets default tabsize to 2 spaces
captionpos=b,                   % sets the caption-position to bottom
breaklines=true,                % sets automatic line breaking
breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
escapeinside={\%*}{*)},         % if you want to add a comment within your code
backgroundcolor=\color[rgb]{1.0,1.0,1.0}, % choose the background color.
rulecolor=\color[rgb]{0.8,0.8,0.8},
extendedchars=true,
xleftmargin=10pt,
xrightmargin=10pt,
framexleftmargin=10pt,
framexrightmargin=10pt
}

% ---------------------------------------------------------------------------- %
% Corpo do texto
\begin{document}
\frontmatter 
% cabeçalho para as páginas das seções anteriores ao capítulo 1 (frontmatter)
\fancyhead[RO]{{\footnotesize\rightmark}\hspace{2em}\thepage}
\setcounter{tocdepth}{2}
\fancyhead[LE]{\thepage\hspace{2em}\footnotesize{\leftmark}}
\fancyhead[RE,LO]{}
\fancyhead[RO]{{\footnotesize\rightmark}\hspace{2em}\thepage}

\onehalfspacing  % espaçamento

% ---------------------------------------------------------------------------- %
% CAPA
% Nota: O título para as dissertações/teses do IME-USP devem caber em um 
% orifício de 10,7cm de largura x 6,0cm de altura que há na capa fornecida pela SPG.
\thispagestyle{empty}
\begin{center}
    \vspace*{2.3cm}
    \textbf{\Large{Combined correlation rules to detect skin on colored images based on dynamic color clustering}}\\
    
    \vspace*{1.2cm}
    \Large{Rodrigo Augusto Dias Faria}
    
    \vskip 2cm
    \textsc{
    Thesis submitted\\[-0.25cm] 
    to the\\[-0.25cm]
    Institute of Mathematics and Statistics\\[-0.25cm]
    of the\\[-0.25cm]
    University of São Paulo\\[-0.25cm]
    to\\[-0.25cm]
    obtain the title\\[-0.25cm]
    of\\[-0.25cm]
    Master in Science}
    
    \vskip 1.5cm
    Program: Computer Science\\
    Advisor: Prof. Dr. Roberto Hirata Jr

%   \vskip 1cm
%   \normalsize{Durante o desenvolvimento deste trabalho o autor recebeu auxílio
%   financeiro da CAPES/CNPq/FAPESP}
    
    \vskip 1.5cm % voltar para 0.5cm caso for usar a linha acima
    \normalsize{São Paulo, February 2018}
\end{center}

% ---------------------------------------------------------------------------- %
% Página de rosto (SÓ PARA A VERSÃO DEPOSITADA - ANTES DA DEFESA)
% Resolução CoPGr 5890 (20/12/2010)
%
% IMPORTANTE:
%   Coloque um '%' em todas as linhas
%   desta página antes de compilar a versão
%   final, corrigida, do trabalho
%
%
\newpage
\thispagestyle{empty}
    \begin{center}
        \vspace*{2.3 cm}
        \textbf{\Large{Combined correlation rules to detect skin on colored images based on dynamic color clustering}}\\
        \vspace*{2 cm}
    \end{center}

    \vskip 2cm

    \begin{flushright}
	This is the original version of the thesis prepared by the \\
	candidate Rodrigo Augusto Dias Faria, such as \\
	submitted to the Examining Committee.
    \end{flushright}

\pagebreak


% ---------------------------------------------------------------------------- %
% Página de rosto (SÓ PARA A VERSÃO CORRIGIDA - APÓS DEFESA)
% Resolução CoPGr 5890 (20/12/2010)
%
% Nota: O título para as dissertações/teses do IME-USP devem caber em um 
% orifício de 10,7cm de largura x 6,0cm de altura que há na capa fornecida pela SPG.
%
% IMPORTANTE:
%   Coloque um '%' em todas as linhas desta
%   página antes de compilar a versão do trabalho que será entregue
%   à Comissão Julgadora antes da defesa
%
%
% \newpage
% \thispagestyle{empty}
%     \begin{center}
%         \vspace*{2.3 cm}
%         \textbf{\Large{Título do trabalho a ser apresentado à \\
%         CPG para a dissertação/tese}}\\
%         \vspace*{2 cm}
%     \end{center}

%     \vskip 2cm

%     \begin{flushright}
% 	Esta versão da dissertação/tese contém as correções e alterações sugeridas\\
% 	pela Comissão Julgadora durante a defesa da versão original do trabalho,\\
% 	realizada em 14/12/2010. Uma cópia da versão original está disponível no\\
% 	Instituto de Matemática e Estatística da Universidade de São Paulo.

%     \vskip 2cm

%     \end{flushright}
%     \vskip 4.2cm

%     \begin{quote}
%     \noindent Comissão Julgadora:
    
%     \begin{itemize}
% 		\item Profª. Drª. Nome Completo (orientadora) - IME-USP [sem ponto final]
% 		\item Prof. Dr. Nome Completo - IME-USP [sem ponto final]
% 		\item Prof. Dr. Nome Completo - IMPA [sem ponto final]
%     \end{itemize}
      
%     \end{quote}
% \pagebreak


\pagenumbering{roman}     % começamos a numerar 

% ---------------------------------------------------------------------------- %
% Agradecimentos:
% Se o candidato não quer fazer agradecimentos, deve simplesmente eliminar esta página 
\chapter*{Acknowledgements}
Texto texto texto texto texto texto texto texto texto texto texto texto texto
texto texto texto texto texto texto texto texto texto texto texto texto texto
texto texto texto texto texto texto texto texto texto texto texto texto texto
texto texto texto texto. Texto opcional.


% ---------------------------------------------------------------------------- %
% Resumo
\chapter*{Resumo}

\noindent FARIA, R. A. D. \textbf{Regras de correlação combinadas para detectar pele em imagens coloridas baseadas em agrupamento dinâmico de cores}.
Dissertação (Mestrado) - Instituto de Matemática e Estatística,
Universidade de São Paulo, São Paulo, 2018.
\\

A detecção de pele desempenha um papel importante em uma ampla gama de aplicações em processamento de imagens e visão computacional. Em suma, existem três abordagens principais para detecção de pele: baseadas em regras, aprendizado de máquina e híbridos. Elas diferem em termos de precisão e eficiência computacional. Geralmente, as abordagens com aprendizado de máquina e as híbridas superam os métodos baseados em regras, mas exigem um conjunto de dados de treinamento grande e representativo, bem como um tempo de classificação custoso, que pode ser um fator decisivo para aplicações em tempo real. Neste trabalho, propomos uma melhoria de um novo método de detecção de pele baseado em regras que funciona no espaço de cores YCbCr. Nossa motivação baseia-se na hipótese de que: (1) a regra original pode ser revertida e, (2) pixels de pele humana não aparecem isolados, ou seja, as operações de vizinhança são levadas em consideração. O método é uma combinação de algumas regras de correlação baseadas nessas hipóteses. Essas regras avaliam as combinações de valores de crominância Cb, Cr para identificar os pixels de pele, dependendo da forma e tamanho dos agrupamentos de cores de pele gerados dinamicamente. O método é muito eficiente em termos de esforço computacional, bem como robusto em cenas de imagens muito complexas.
\\

\noindent \textbf{Palavras-chave:} detecção de pele, segmentação de pele humana, modelo de cores YCbCr, regras de correlação, agrupamento dinâmico de cores.

% ---------------------------------------------------------------------------- %
% Abstract
\chapter*{Abstract}
\noindent FARIA, R. A. D. \textbf{Combined correlation rules to detect skin on colored images based on dynamic color clustering}.
Thesis (Masters Degree) - Institute of Mathematics and Statistics,
University of São Paulo, São Paulo, 2018.
\\

Skin detection plays an important role in a wide range of image processing and computer vision applications. In short, there are three major approaches for skin detection: rule-based, machine learning and hybrid. They differ in terms of accuracy and computational efficiency. Generally, machine learning and hybrid approaches outperform the rule-based methods, but require a large and representative training dataset as well as costly classification time, which can be a deal breaker for real time applications. In this work, we propose an improvement of a novel method on rule-based skin detection that works in the YCbCr color space. Our motivation is based on the hypothesis that: (1) the original rule can be reversed and, (2) human skin pixels do not appear isolated, i.e. neighborhood operations are taken in consideration. The method is a combination of some correlation rules based on these hypothesis. Such rules evaluate the combinations of chrominance Cb, Cr values to identify the skin pixels depending on the shape and size of dynamically generated skin color clusters. The method is very efficient in terms of computational effort as well as robust in very complex image scenes.
\\

\noindent \textbf{Keywords:} skin detection, human skin segmentation, YCbCr color model, correlation rules, dynamic color clustering.

% ---------------------------------------------------------------------------- %
% Sumário
\tableofcontents    % imprime o sumário

% ---------------------------------------------------------------------------- %
\chapter{List of Acronyms}
\begin{tabular}{ll}
    AR          & Aleix and Robert Face Database\\
    CIE         & Commission Internationale de l'Eclairage\\
    CMY         & Cyan, Magenta and Yellow\\
    FERET       & Face Recognition Technology database\\
    HGR         & Hand Gesture Recognition database\\
    HSI         & Hue, Saturation, Intensity\\
    HSL         & Hue, Saturation, Lightness\\
    HSV         & Hue, Saturation, Value\\
    ID3         & Iterative Dichotomiser 3\\
    $k$-NN      & k-Nearest Neighbors\\
    LUT         & Look-UP Table\\
    NTSC        & National Television System Committee\\
    PAL         & Phase Alternating Line\\
    RBF         & Radial Basis Function\\
    RGB         & Red, Green and Blue\\
    SECAM       & Sequential Color with Memory\\
    SFA         & Skin of FERET and AR Database\\
    SVM         & Support Vector Machines\\
    UCS         & Uniform Chromaticity Scale\\
    UCI         & University of California in Irvine skin/non skin dataset\\
    YIQ         & Luma, Hue and Saturation\\
    YUV         & Luma and Chrominance\\
    WM          & Wang-Mendel method\\
\end{tabular}

% ---------------------------------------------------------------------------- %
\chapter{List of Symbols}
\begin{tabular}{ll}
    $L^*$       & Luminance \\
    $a^*$       & Green/red axis on $L^*a^*b^*$ color model \\
    $b^*$       & Blue/yellow axis on $L^*a^*b^*$ color model \\
    $u^*$       & Green/red axis on $L^*u^*v^*$ color model \\
    $v^*$       & Blue/yellow axis on $L^*u^*v^*$ color model \\
    $\theta$    & Hue angle on HSI color model \\
    $max$       & Max operator \\
    $min$       & Min operator \\
    $\mu_A(x)$  & Membership function \\
    $\mathbb{R}$& Set of real numbers \\
    $\sigma$    & Standard deviation of the Gaussian membership function \\
    $a_r$       & $r$-th attribute of a feature vector \\
    $D$         & Dataset \\
    $D'$        & Dataset in feature space \\
    $N$         & Dataset cardinality \\
    $K$         & Numbers of dataset partitions in cross-validation \\
    $\alpha$    & Lagrange multiplier \\
    $\xi$       & Variável de relaxamento\\
    $C$         & Regularization parameter \\
    $\Phi$      & Nonlinear feature expansion function \\
    $\gamma$    & Polynomial/RBF kernel parameter of a nonlinear SVM \\
    $d(x_i, x_j)$ & Distance function between $x_i$ and $x_j$ vectors \\
    $\argmax$   & Arguments of maxima operator \\
    $\delta (y, f(x_i))$ & Binary function between $y$ and \\
                & $f(x_i)$ of a training sample $x_i$ in $k$-NN\\
    $H(D)$      & Entropy of dataset $D$\\
    $y_\oplus$  & Positive samples rate \\
    $y_\ominus$ & Negative samples rate \\
    $IG(D, a_r)$& Information gain of $D$ partitioning by $a_r$ attribute \\
    $V(a_r)$    & Set of all possible values of $a_r$\\
    $D_v$       & Subset of $D$ where $a_r$ is equal to $v$\\
\end{tabular}

% ---------------------------------------------------------------------------- %
% Listas de figuras e tabelas criadas automaticamente
\listoffigures            
\listoftables            

% ---------------------------------------------------------------------------- %
% Capítulos do trabalho
\mainmatter

% cabeçalho para as páginas de todos os capítulos
\fancyhead[RE,LO]{\thesection}

\singlespacing              % espaçamento simples
%\onehalfspacing            % espaçamento um e meio

\input cap-introducao
\input cap-related-work
\input cap-conceitos
\input cap-proposed-solution
\input cap-experimentos
\input cap-conclusoes

% cabeçalho para os apêndices
\renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{\appendixname\ \thechapter}} {\MakeUppercase{#1}} }
\fancyhead[RE,LO]{}
\appendix

%\include{ape-conjuntos}      % associado ao arquivo: 'ape-conjuntos.tex'

% ---------------------------------------------------------------------------- %
% Bibliografia
\backmatter \singlespacing   % espaçamento simples
\bibliographystyle{plainnat-ime} % citação bibliográfica textual
\bibliography{bibliografia}  % associado ao arquivo: 'bibliografia.bib'

% ---------------------------------------------------------------------------- %
% Índice remissivo
%\index{TBP|see{periodicidade região codificante}}
%\index{DSP|see{processamento digital de sinais}}
%\index{STFT|see{transformada de Fourier de tempo reduzido}}
%\index{DFT|see{transformada discreta de Fourier}}
%\index{Fourier!transformada|see{transformada de Fourier}}

%\printindex   % imprime o índice remissivo no documento

\end{document}
